include mixins/bytes
include mixins/cog

- stats = collection.stats;
- stats.object_size_average = (stats.object_size/stats.object_count);
- stats.index_size_per_object = (stats.index_size/stats.object_count);

.row
  .col-md-8
    .row
      .col-md-12
        h1(style="margin-bottom: 0;") #{collection.name}
        h3(style="margin-bottom: 0; margin-top: 0;")
          a(href="#database/#{collection.database}") #{collection.database}

      .collection-creek.mms

    a.btn.btn-primary Browse Data


  .col-md-4
    .panel.panel-default
      .panel-heading
        h3 Documents
      ul.list-group.panel-body
        li.list-group-item
          span.badge #{collection.stats.object_count}
          strong Total
        li.list-group-item
          span.badge
            +bytes(collection.stats.object_size)
          strong Size
        li.list-group-item
          span.badge
            +bytes(stats.object_size_average)
          strong Average Size
      .panel-heading
        h3 Indexes
        //- h4
        //-   +bytes(collection.stats.index_size)
        //- h4
        //-   +bytes(stats.index_size_per_object)
        //-   | per

      ul.list-group.panel-body
       - for index in collection.indexes
        li.list-group-item
          span.badge
            +bytes(index.size)
          code #{JSON.stringify(index.key)}
      .panel-heading
        h4 Advanced
      ul.list-group.panel-body
        li.list-group-item
          span.badge
            +bytes(collection.stats.extent_last_size)
          strong Last Extent Size

        li.list-group-item
          span.badge #{collection.stats.extent_count}
          strong Extents

        li.list-group-item
          span.badge #{collection.stats.padding_factor}
          strong Padding Factor

