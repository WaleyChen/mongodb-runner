if instance.replicaset
  .row(style="margin-top: 20px;")
    .col-md-9
      - self = instance.replicaset.instance
      h1 #{instance.replicaset._id}

      ol.list-group
        li.two-lines
          //- if self.isPrimary
          //-   .status P
          //- else if self.isSecondary
          //-   .status S
          //- else if self.isArbiter
          //-   .status A
          .primary-line #{self.name}

        for member in instance.replicaset.secondaries
          li.list-item
            //- .status S
            .primary-line #{member.name}
            .secondary-line #{member.state}
            .secondary-line Replication Lag #{member.lag_replication}ms

    .col-md-3
      ul.list-group
       - for member in instance.replicaset.arbiters
        li.list-item
          span.inline-block-tight #{member.name}
          span.inline-block-tight.text-subtle A
          p Operational Lag #{member.lag_operational}ms

else
  .row
    .col-md-6.col-md-push-3
      .panel.panel-default
        .panel-body.well
          :markdown
            #### Replication

            This instance is not a member of a replicaset.

            ```
            @todo what to run to join a replicaset
            ```
