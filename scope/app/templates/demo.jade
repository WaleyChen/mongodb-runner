doctype html
html(lang='en')
  head
    title demo
    link(rel='stylesheet', href='demo.css')
    link(rel='icon', href='img/favicon.ico', type='image/x-icon')

  body
    #toolbar
      span.logo.inline-block.pull-right(href="#")
        span.inline-block mongoscope
        svg.inline-block(viewBox="0, 0, 200, 200", version="1.1")
          g
            path(d="M 49.4269 122.2742 C 43.975 114.2084 92.4275 32 98.5704 32 C 104.7134 32 129.2851 43.7134 126.8279 48.9643 C 113.6716 77.0788 84.9312 135.4446 81.9845 134.9975 C 71.3367 133.3818 55.5699 131.3622 49.4269 122.2742 Z")
            path(d="M 108.0216 39.6247 C 109.9814 36.9572 117.8735 27.66 117.8735 26.0994 C 117.8735 20.2504 112.7211 10.3777 120.4214 12.2273 C 128.1217 14.0769 141.4273 24.2498 135.5389 27.4866 C 129.6504 30.7235 126.9327 24.77 123.309 30.7813 C 119.6853 36.7925 116.7532 41.8195 116.5146 44.1332 C 116.1749 47.4278 107.512 40.3183 108.0216 39.6247 Z")
            path(d="M 112 64.5 C 117.7454 62.7708 177.5 63.5 182.5 108.5 C 187.0829 149.7462 171.628 175.6394 168.5 182 C 166.9798 185.0911 68.0573 185.9565 65 182 C 48 160 64.5 174 62.5 169.5 C 60.5 165 45.5 172 41 163 C 32.8869 146.7738 24.8783 152.153 48 149 C 70 146 125 146 128 148 C 137.4217 154.2812 134.5 160.5 134.5 160.5 C 134.5 160.5 141.1787 162.9935 144.5 158.5 C 153 147 155.6667 133.8333 155.5 123.5 C 155.4022 117.434 156 95 144.5 91.5 C 132.0469 87.7099 96 89 95 92 C 94 95 107.7083 65.7917 112 64.5 Z")

        .btn-group.inline-block
            a.btn(href='')
              span(class='icon glyphicon-pulse')
              div.btn-label github

    #mongoscope
      .col-md-6.col-md-push-3
        section
            .block.panel.panel-inset.bordered
            code
              pre.padded
                |  # mg: launch mongod and mongorest.
                |  DEBUG=mg*,mongo* \
                |      MG_BIN=/srv/mongo/bin/mongod \
                |      MG_CONNECT=mongodb://localhost \
                |      MG_DBPATH=~/.mongodb/wikipedia ~/Downloads/mg_001;

          .block.panel.panel-inset.bordered
            code
              pre.padded
                |  # mg: launch mongod and mongorest.
                |  DEBUG=mg*,mongo* \
                |      MG_BIN=/srv/mongo/bin/mongod \
                |      MG_CONNECT=mongodb://localhost \
                |      MG_DBPATH=~/.mongodb/wikipedia ./bin/mg.js;
          h3
            a(href="http://localhost:29017", target="_blank") http://localhost:29017

          .block.panel.panel-inset.bordered
            code
              pre.padded
                |  # it's handy to use the actual dev server when
                |  # slinging code though.
                |  cd ~/mg/scope && npm start;

          h3
            a(href="http://localhost:3000", target="_blank") http://localhost:3000

        section
          h2 how's it look with real data though?
          .block.panel.panel-inset.bordered
            code
              pre.padded
                | cd ~/imlucas/wikipedia-edit-stream && DEBUG=* node example.js;

          h3
            a(href="http://localhost:3000/#database/dataset-wikipedia", target="_blank")
              | http://localhost:3000/#database/dataset-wikipedia

        section
          h2 funnel
          h3
            a(href="http://localhost:3000/funnel.html", target="_blank") http://localhost:3000/funnel.html

        section
          h2 stack
          .block.panel.grid
            .stack
              h3 rest
              ul
                li expressjs
                li socket.io
            .stack
              h3 ui
              ul
                li backbone
                li browserify
                li jade
                li bootstrap
                li less
                li d3

        section
          h2 arch
          h3
          .block.panel
            p 3 nodejs processes + 1 mongod processes
            .bordered.panel.padded
              h3 mg
              p launcher
              ul
                li.bordered.panel.padded.inset-panel.block
                  h4 mongorest
                  p bridge wire protocol for http
                li.bordered.panel.padded.inset-panel
                  h4 mongodmon
                  p like mongorunner in kernel
                  ul.bordered.panel.padded.tool-panel
                    li
                      h5 mongod
                      p bundled or existing

          .block.panel.bordered.padded.inset-panel
            h4.inline-block benefits
            .inline-block-tight security
            .inline-block-tight decoupled
            .inline-block-tight extensible

        section
          h2 distribution
          p built into nodejs, but no-one knows...
          h3
            a(href="https://github.com/joyent/node/blob/master/src/node.js#L70", target="_blank")
              @joyent/node/blob/master/src/node.js#L70

          :markdown
            ```
            // There are various modes that Node can run in. The most common two
            // are running from a script and running the REPL - but there are a few
            // others like the debugger or running --eval arguments. Here we decide
            // which mode we run in.

            if (NativeModule.exists('_third_party_main')) {
              // To allow people to extend Node in different ways, this hook allows
              // one to drop a file lib/_third_party_main.js into the build
              // directory which will be executed instead of Node's normal loading.
              process.nextTick(function() {
                NativeModule.require('_third_party_main');
              });
            ```

        section
          :markdown
            ### Packaged OSX binaries posted to [releases](https://github.com/10gen/mongoscope/releases)


          img(src="http://www.jeffersonstolarship.com/wp-content/uploads/2010/09/oprah.gif")


          h3 tinker
          .block.panel.panel-inset.bordered
            code
              pre.padded
                | git clone git@github.com:10gen/mongoscope.git && \
                |   cd mongoscope && npm install;


        section
          h2 gif demo
          .block.panel.panel-inset.bordered

            img(height="300", src="https://camo.githubusercontent.com/5099ab10d6307273602b547ecbc7c208d8dd95e9/687474703a2f2f7265636f726469742e636f2f627171306e396a764d4e2e676966")
